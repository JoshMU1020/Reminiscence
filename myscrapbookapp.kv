<WelcomeScreen>:
    canvas.before:
        Color:
            rgba: 224/255, 129/255, 78/255, 0.8
        Rectangle:
            pos: self.pos
            size: self.size
    canvas.after:
        Line:
            rectangle: self.x + 1, self.y + 1, self.width - 2, self.height - 2
            width: 5
    BoxLayout:
        orientation: 'vertical'
        padding: 80
        spacing: 10
        Label:
            text: 'Welcome to Reminiscence!'
            size_hint_y: None
            height: '48dp'
            # Add styling for the title?
        Button:
            text: 'Create Account'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: app.open_create_account_popup()
        TextInput:
            id: username_input
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            hint_text: 'Enter username'
        TextInput:
            id: password_input
            password: True
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            hint_text: 'Enter password'
        Button:
            text: 'Login'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'mainMenu'  # Change to 'mainMenu' if credentials are correct

<CreateAccountPopup@Popup>:
    title: 'Create Account'
    size_hint: None, None
    size: 400, 400
    BoxLayout:
        orientation: 'vertical'
        TextInput:
            id: new_username
            hint_text: 'New username'
        TextInput:
            id: new_password
            password: True
            hint_text: 'New password'
        Button:
            text: 'Create'
            on_release: app.create_account(new_username.text, new_password.text)

<MainMenu>:
    canvas.before:
        Color:
            rgba: 224/255, 129/255, 78/255, 0.8
        Rectangle:
            pos: self.pos
            size: self.size
    canvas.after:
        Line:
            rectangle: self.x + 1, self.y + 1, self.width - 2, self.height - 2
            width: 5
    BoxLayout:
        orientation: 'vertical'
        padding: 40
        spacing: 10
        Label:
            text: 'Main Menu'
            size_hint_y: None
            height: '48dp'
            # Add styling for the title?
        Button:
            text: 'View Pages'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'viewPages'
        Button:
            text: 'Create New Page'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'pageCreation'
        Button:
            text: 'Logout'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'welcome'

<ViewPages>:
    canvas.before:
        Color:
            rgba: 224/255, 129/255, 78/255, 1
        Rectangle:
            pos: self.pos
            size: self.size
    canvas.after:
        Line:
            rectangle: self.x + 1, self.y + 1, self.width - 2, self.height - 2
            width: 5
    on_enter: root.load_images()
    BoxLayout:
        orientation: 'vertical'
        padding: 40
        spacing: 10
        Label:
            id: title_label
            text: 'Page Title'
            size_hint_y: None
            height: 50
            color: 1, 1, 1, 1  # White text
            canvas.before:
                Color:
                    rgba: 224/255, 129/255, 78/255, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
        ScrollView:
            size_hint_y: None
            height: '400dp'
            BoxLayout:
                id: pages_container
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
        Button:
            id: bottom_button
            text: 'Return'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'mainMenu'

<TemplateSelect>:  # MAY DROP IN FUTURE---------------------------------------------------------------------------------
    canvas.before:
        Color:
            rgba: 224/255, 129/255, 78/255, 0.8
        Rectangle:
            pos: self.pos
            size: self.size
    canvas.after:
        Line:
            rectangle: self.x + 1, self.y + 1, self.width - 2, self.height - 2
            width: 5
    BoxLayout:
        orientation: 'vertical'
        padding: 40
        spacing: 10
        Button:
            text: 'Template One'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'pageCreation'
        Button:
            text: 'Template Two'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'pageCreation'
        Button:
            text: 'Template Three'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'pageCreation'
        Button:
            text: 'Template Four'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'pageCreation'
        Button:
            text: 'Return'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'mainMenu'

<CustomDropZoneLayout@BoxLayout>:
    orientation: 'vertical'
    size_hint: 0.4, 0.4
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    canvas.before:
        Color:
            rgba: 243/255, 170/255, 107/255, 1
        Rectangle:
            pos: self.pos
            size: self.size
    DropZone:
        id: drop_zone
        size_hint_y: 0.9

<PageCreation>:
    canvas.before:
        Color:
            rgba: 224/255, 129/255, 78/255, 0.8
        Rectangle:
            pos: self.pos
            size: self.size
    canvas.after:
        Line:
            rectangle: self.x + 1, self.y + 1, self.width - 2, self.height - 2
            width: 5
    GridLayout:
        id: collage_layout
        cols: 2
        rows: 2
        size_hint: 0.8, 0.8
        pos_hint: {'center_x': 0.5, 'center_y': 0.55}
        spacing: 5  # Space between children
        padding: 15  # Padding inside the layout
        CustomDropZoneLayout:
            # CustomDropZoneLayout for drop_zone_1
        CustomDropZoneLayout:
            # CustomDropZoneLayout for drop_zone_2
        CustomDropZoneLayout:
            # CustomDropZoneLayout for drop_zone_3
        CustomDropZoneLayout:
            # CustomDropZoneLayout for drop_zone_4
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 5
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        Button:
            text: 'Save Page'
            size_hint_y: None
            height: '38dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: app.save_collage(root.ids.collage_layout)
        Button:
            text: 'Main Menu'
            size_hint_y: None
            height: '38dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'mainMenu'


<PlaceDataPopup@Popup>:  # MAY DROP IN FUTURE---------------------------------------------------------------------------
    title: 'Place Data'
    size_hint: None, None
    size: 400, 400
    BoxLayout:
        orientation: 'vertical'
        Button:
            text: 'Image'
            on_press:
                root.dismiss()
                app.switch_to_data_scrolling('image')
        Button:
            text: 'Video'
            on_press:
                root.dismiss()
                app.switch_to_data_scrolling('video')
        Button:
            text: 'Note'
            on_press:
                root.dismiss()
                app.open_create_note_popup()

<CreateNotePopup@Popup>:  # MAY DROP IN FUTURE--------------------------------------------------------------------------
    title: 'Create note'
    size_hint: None, None
    size: 400, 400
    BoxLayout:
        orientation: 'vertical'
        TextInput:
            id: new_note
            hint_text: 'Enter note'
        Button:
            text: 'Save Note'
            # Add on_press event to handle note saving
            on_release: app.save_note(new_note.text)

<DataScrolling>:  # MAY DROP IN FUTURE----------------------------------------------------------------------------------
    canvas.before:
        Color:
            rgba: 224/255, 129/255, 78/255, 0.8
        Rectangle:
            pos: self.pos
            size: self.size
    canvas.after:
        Line:
            rectangle: self.x + 1, self.y + 1, self.width - 2, self.height - 2
            width: 5
    BoxLayout:
        orientation: 'vertical'
        padding: 40
        spacing: 10
        Label:
            text: 'View Saved Data'
            size_hint_y: None
            height: '850dp'
            # Add styling for the title?
        Button:
            text: 'Return'
            size_hint_y: None
            height: '58dp'
            size_hint_x: None
            width: 300
            pos_hint: {'center_x': 0.5}
            on_press: root.manager.current = 'mainMenu'